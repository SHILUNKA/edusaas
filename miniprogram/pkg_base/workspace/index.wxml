<view class="workspace-container">
  <!-- è‡ªå®šä¹‰é¡¶éƒ¨å¯¼èˆªèƒŒæ™¯ (è£…é¥°ç”¨) -->
  <view class="custom-header-bg"></view>

  <view class="content-wrapper">
    <!-- å¤´éƒ¨é—®å€™ -->
    <view class="header-section">
      <view>
        <view class="title">ç®¡ç†å·¥ä½œå°</view>
        <view class="subtitle">Management Workspace</view>
      </view>
      <view class="user-avatar">
        <text>ğŸ§‘â€ğŸ’¼</text>
      </view>
    </view>

    <!-- 1. å¾…åŠå®¡æ‰¹æ ¸å¿ƒåŒº -->
    <view class="section-title">âœ¨ å¾…æˆ‘å®¡æ‰¹</view>
    <view class="approval-cards">
      <view class="approval-item" bindtap="onNavTo" data-url="/pkg_base/pages/approval/list/index?type=discount">
        <view class="icon-circle blue">
          <text>ğŸ·ï¸</text>
        </view>
        <view class="info">
          <text class="count">{{approvals.discount || 0}}</text>
          <text class="label">ç‰¹ä»·/æŠ˜æ‰£</text>
        </view>
      </view>
      
      <view class="approval-item" bindtap="onNavTo" data-url="/pkg_base/pages/approval/list/index?type=refund">
        <view class="icon-circle red">
          <text>ğŸ’¸</text>
        </view>
        <view class="info">
          <text class="count">{{approvals.refund || 0}}</text>
          <text class="label">é€€è´¹ç”³è¯·</text>
        </view>
      </view>

      <view class="approval-item" bindtap="onNavTo" data-url="/pkg_base/pages/approval/list/index?type=expense">
        <view class="icon-circle orange">
          <text>ğŸ§¾</text>
        </view>
        <view class="info">
          <text class="count">{{approvals.expense || 0}}</text>
          <text class="label">æŠ¥é”€/æ”¯å‡º</text>
        </view>
      </view>

      <view class="approval-item" bindtap="onNavTo" data-url="/pkg_base/pages/approval/list/index?type=leave">
        <view class="icon-circle purple">
          <text>ğŸ“…</text>
        </view>
        <view class="info">
          <text class="count">{{approvals.leave || 0}}</text>
          <text class="label">è¯·å‡/è€ƒå‹¤</text>
        </view>
      </view>
    </view>

    <!-- 2. ç»è¥é£é™©é¢„è­¦ -->
    <view class="section-title warning-title">
      <text>ğŸ›¡ï¸ é£é™©ç›‘æ§</text>
      <view class="status-tag {{risks.length > 0 ? 'danger' : 'success'}}">
        {{risks.length > 0 ? risks.length + 'é¡¹å¼‚å¸¸' : 'è¿è¡Œå¹³ç¨³'}}
      </view>
    </view>
    
    <view class="risk-list" wx:if="{{risks.length > 0}}">
      <view class="risk-item" wx:for="{{risks}}" wx:key="id">
        <text class="risk-icon">âš ï¸</text>
        <view class="risk-content">
          <text class="risk-text">{{item.text}}</text>
          <text class="risk-desc">{{item.desc}}</text>
        </view>
        <button class="handle-btn" size="mini">å¤„ç†</button>
      </view>
    </view>
    <view class="empty-state" wx:else>
      <text class="empty-icon">âœ…</text>
      <text class="empty-text">å½“å‰æ— ç»è¥é£é™©ï¼Œè¯·ä¿æŒï¼</text>
    </view>

    <!-- 3. ç®¡ç†å·¥å…·ç®± -->
    <view class="section-title">ğŸ› ï¸ ç®¡ç†å·¥å…·</view>
    <view class="tools-grid">
      <view class="tool-item" bindtap="onNavTo" data-url="/pkg_base/pages/finance/index">
        <view class="tool-icon" style="background: #e0f2fe; color: #0284c7">ğŸ’°</view>
        <text class="tool-name">è´¢åŠ¡ä¸­å¿ƒ</text>
      </view>
      <view class="tool-item" bindtap="onNavTo" data-url="/pkg_base/pages/staff/index">
        <view class="tool-icon" style="background: #f3e8ff; color: #9333ea">ğŸ‘¥</view>
        <text class="tool-name">äººäº‹ç®¡ç†</text>
      </view>
      <view class="tool-item" bindtap="onNavTo" data-url="/pkg_base/pages/report/depth/index">
        <view class="tool-icon" style="background: #dcfce7; color: #16a34a">ğŸ“ˆ</view>
        <text class="tool-name">æ·±åº¦æŠ¥è¡¨</text>
      </view>
      <view class="tool-item" bindtap="onNavTo" data-url="/pkg_base/pages/notice/send/index">
        <view class="tool-icon" style="background: #ffedd5; color: #ea580c">ğŸ“¢</view>
        <text class="tool-name">å‘å¸ƒé€šçŸ¥</text>
      </view>
    </view>

  </view>

  <!-- åº•éƒ¨å¯¼èˆª (å›ºå®š) -->
  <view style="height: 180rpx;"></view> <!-- å ä½ç¬¦ -->
  <dynamic-tab-bar selected="{{1}}"></dynamic-tab-bar>
</view>