<view class="home-container">
  <!-- é¡¶éƒ¨å­¦å‘˜é€‰æ‹©åŒº -->
  <view class="header" wx:if="{{participants.length > 0}}">
    <picker class="participant-picker" mode="selector" range="{{participants}}" range-key="name" value="{{selectedParticipantIndex}}" bindchange="onParticipantChange">
      <view class="picker-content">
        <image class="avatar" src="{{participants[selectedParticipantIndex].avatar_url || '/images/default-avatar.png'}}" />
        <view class="info">
          <text class="name">{{participants[selectedParticipantIndex].name}}</text>
          <view class="rank" wx:if="{{participants[selectedParticipantIndex].current_honor_rank}}">
            <text class="rank-name">{{participants[selectedParticipantIndex].current_honor_rank.rank_name}}</text>
            <text class="points">ç§¯åˆ†: {{participants[selectedParticipantIndex].current_honor_rank.total_points}}</text>
          </view>
        </view>
        <text class="arrow">â–¼</text>
      </view>
    </picker>
  </view>

  <!-- ä»Šæ—¥è¯¾ç¨‹å¡ç‰‡ -->
  <view class="today-class-card" wx:if="{{todayClasses.length > 0}}">
    <view class="card-header">
      <text class="title">ðŸ“… ä»Šæ—¥è¯¾ç¨‹</text>
    </view>
    <view class="class-item" wx:for="{{todayClasses}}" wx:key="id">
      <view class="class-time">
        <text class="time">{{item.start_time}}</text>
      </view>
      <view class="class-info">
        <text class="course-name">{{item.course_name}}</text>
        <text class="details">{{item.room_name}} | {{item.teacher_name}}</text>
      </view>
    </view>
  </view>

  <view class="empty-class" wx:else>
    <text class="empty-text">ä»Šå¤©æ²¡æœ‰å®‰æŽ’è¯¾ç¨‹</text>
  </view>

  <!-- å¿«æ·åŠŸèƒ½ç½‘æ ¼ -->
  <view class="quick-menu">
    <view class="menu-item" wx:for="{{quickMenu}}" wx:key="label" bindtap="onMenuTap" data-url="{{item.url}}">
      <view class="menu-icon">{{item.icon}}</view>
      <text class="menu-label">{{item.label}}</text>
    </view>
  </view>

  <!-- è½®æ’­Banner -->
  <!-- <swiper class="banner-swiper" indicator-dots autoplay interval="3000" circular>
    <swiper-item wx:for="{{banners}}" wx:key="title">
      <image class="banner-image" src="{{item.image}}" mode="aspectFill" />
    </swiper-item>
  </swiper> -->
</view>

<dynamic-tab-bar selected="0"></dynamic-tab-bar>
