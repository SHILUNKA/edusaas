<view class="badges-container">
  <!-- ç»Ÿè®¡å¤´éƒ¨ -->
  <view class="stats-header">
    <view class="stats-item">
      <text class="stats-value">{{unlockedCount}}</text>
      <text class="stats-label">å·²è§£é”</text>
    </view>
    <view class="stats-divider"></view>
    <view class="stats-item">
      <text class="stats-value">{{totalCount}}</text>
      <text class="stats-label">å‹‹ç« æ€»æ•°</text>
    </view>
  </view>

  <!-- å‹‹ç« ç½‘æ ¼ -->
  <view class="badges-grid">
    <view 
      class="badge-item {{item.unlocked ? 'unlocked' : 'locked'}}"
      wx:for="{{badges}}"
      wx:key="id"
      bindtap="onBadgeTap"
      data-badge="{{item}}"
    >
      <view class="badge-icon">{{item.icon_url}}</view>
      <view class="badge-name">{{item.name}}</view>
      
      <!-- å·²è§£é”æ˜¾ç¤ºæ—¥æœŸ -->
      <view class="badge-date" wx:if="{{item.unlocked}}">
        {{item.unlocked_at}}
      </view>
      
      <!-- æœªè§£é”æ˜¾ç¤ºè¿›åº¦ -->
      <view class="badge-progress" wx:else>
        <view class="progress-bar">
          <view 
            class="progress-fill" 
            style="width: {{(item.progress.current / item.progress.target * 100)}}%"
          ></view>
        </view>
        <text class="progress-text">{{item.progress.current}}/{{item.progress.target}}</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{badges.length === 0 && !loading}}">
    <text class="empty-icon">ğŸ…</text>
    <text class="empty-text">æš‚æ— å‹‹ç« </text>
  </view>
</view>
